{% extends "base.html" %}

{% block content %}

<link rel="stylesheet" href="dsp-control.css">


<div class="dsp-control">
    <header class="dsp-control__header">
        <h1 class="dsp-control__title">DSP Control Panel</h1>
        <div class="dsp-control__auto-refresh">
            <span>Auto Refresh</span>
            <label class="dsp-control__switch">
                <input type="checkbox" id="autoRefreshToggle">
                <span class="slider"></span>
            </label>
        </div>
    </header>
    
    <div class="dsp-control__controls" id="controlsContainer">
        <!-- Controls will be generated by Rust/WASM -->
    </div>
    
    <div class="dsp-control__status-bar">
        <div class="dsp-control__status-message" id="statusMessage">Ready</div>
        <div class="dsp-control__loading hidden" id="loadingIndicator"></div>
    </div>
</div>

<script type="module">
    // Import the WASM module
    import init, { initialize_app } from '/pkg/dsp_control_wasm.js';

    // Initialize the WASM module
    async function initWasm() {
        await init();
        await initialize_app();
    }

    // Initialize when the page loads
    window.addEventListener('load', initWasm);
</script>
{% endblock %} 